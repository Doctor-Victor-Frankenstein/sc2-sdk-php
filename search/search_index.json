{
    "docs": [
        {
            "location": "/",
            "text": "SteemConnect PHP SDK\n\u00b6\n\n\nThis is the documentation for \nSteemConnect\n \nPHP SDK\n, which is available at \nhttps://github.com/hernandev/sc2-sdk-php\n.\n\n\nHow to Read the Code Examples.\n\u00b6\n\n\nThis documentation was built with several code examples.\n\n\nFor code highlighting and easy to understand reasons, any PHP code will start with a \n<?php\n sign, and, on a given documentation page scope, when a given code example is a sequence of a previous example, it will be indicated by a \n// ...\n line, meaning that the current code is a continuation of the previous one.\n\n\nWhat this library is about?\n\u00b6\n\n\nThis library allows for interaction with \nSteemConnect\n (v2) on PHP projects.\n\n\nMeaning this library can achieve two things:\n\n\nHandle authentication flow:\n\u00b6\n\n\nAuthentication and Authorization flow though OAuth.\n\n\nBuild and broadcast operations:\n\u00b6\n\n\nBroadcast Steem blockchain operations through SteemConnect.\n\n\nWhat this library is NOT about:\n\u00b6\n\n\nThis library is intended to be a SteemConnect client for PHP only. Meaning no additional scopes were incorporated.\n\n\nParsing transactions and content display is not a part of this project.\n\n\nIf you are looking into displaying Steem blockchain posts, you may use another project of mine, \nLightRPC\n.",
            "title": "Home"
        },
        {
            "location": "/#steemconnect-php-sdk",
            "text": "This is the documentation for  SteemConnect   PHP SDK , which is available at  https://github.com/hernandev/sc2-sdk-php .",
            "title": "SteemConnect PHP SDK"
        },
        {
            "location": "/#how-to-read-the-code-examples",
            "text": "This documentation was built with several code examples.  For code highlighting and easy to understand reasons, any PHP code will start with a  <?php  sign, and, on a given documentation page scope, when a given code example is a sequence of a previous example, it will be indicated by a  // ...  line, meaning that the current code is a continuation of the previous one.",
            "title": "How to Read the Code Examples."
        },
        {
            "location": "/#what-this-library-is-about",
            "text": "This library allows for interaction with  SteemConnect  (v2) on PHP projects.  Meaning this library can achieve two things:",
            "title": "What this library is about?"
        },
        {
            "location": "/#handle-authentication-flow",
            "text": "Authentication and Authorization flow though OAuth.",
            "title": "Handle authentication flow:"
        },
        {
            "location": "/#build-and-broadcast-operations",
            "text": "Broadcast Steem blockchain operations through SteemConnect.",
            "title": "Build and broadcast operations:"
        },
        {
            "location": "/#what-this-library-is-not-about",
            "text": "This library is intended to be a SteemConnect client for PHP only. Meaning no additional scopes were incorporated.  Parsing transactions and content display is not a part of this project.  If you are looking into displaying Steem blockchain posts, you may use another project of mine,  LightRPC .",
            "title": "What this library is NOT about:"
        },
        {
            "location": "/01-configuration/",
            "text": "Configuration\n\u00b6\n\n\nBefore heading into SDK usage, we need to configure it, with credentials, return url and scopes.\n\n\nConfiguration Class.\n\u00b6\n\n\nTo start, we are going to create an instance of \nSteemConnect\\Config\\Config\n.\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n<?php\n\n\n\nuse\n \nSteemConnect\\Config\\Config\n;\n\n\n\n// the client id and secret can be obtained on SteemConnect dashboard.\n\n\n$clientId\n \n=\n \n'your-steem-connect-client-id'\n;\n\n\n$clientSecret\n \n=\n \n'your-steem-connect-client-secret'\n;\n\n\n\n// create the configuration instance, using  the credentials.\n\n\n$config\n \n=\n \nnew\n \nConfig\n(\n$clientId\n,\n \n$clientSecret\n);\n\n\n\n\n\n\n\nReturn URL.\n\u00b6\n\n\nThe return URL is a parameter for the OAuth authorization flow. This URL will receive\nthe temporary code from SteemConnect after the user authorizes your application\nto act on the their behalf.\n\n\nTo configure the return URL, you just call the \nsetReturnUrl\n method on the Config object:\n\n\n1\n2\n3\n4\n5\n6\n<?php\n\n\n\n// ...\n\n\n\n// set the return URL on config.\n\n\n$config\n->\nsetReturnUrl\n(\n'https://your-steem-app/auth/callback'\n);\n\n\n\n\n\n\n\n\n\nNote\n\n\nThe URL being used on configuration must match the one configured on SteemConnect dashboard, otherwise the authorization flow will fail.\n\n\n\n\nScopes.\n\u00b6\n\n\nOther required configuration are which scopes your application requires.\n\n\nOn the OAuth flow, a scope could be translated to which permissions your users will grant you.\n\n\nThere are several scopes available. The list of scopes presented here may change with time, so, an up-to-date reference can fe found at \nSteemConnect wiki\n.\n\n\n\n\n\n\n\n\nScope\n\n\nDescription\n\n\n\n\n\n\n\n\n\n\nlogin\n\n\nVerify Steem identity\n\n\n\n\n\n\noffline\n\n\nAllow long-lived token\n\n\n\n\n\n\nvote\n\n\nUpvote, downvote or unvote a post or comment\n\n\n\n\n\n\ncomment\n\n\nPublish or edit a post or a comment\n\n\n\n\n\n\ncomment_delete\n\n\nDelete a post or a comment\n\n\n\n\n\n\ncomment_options\n\n\nAdd options for a post or comment\n\n\n\n\n\n\ncustom_json\n\n\nFollow, unfollow, ignore, reblog or any custom_json operation\n\n\n\n\n\n\nclaim_reward_balance\n\n\nClaim reward for user\n\n\n\n\n\n\n\n\n\n\nNote\n\n\nIf your application only needs to verify the user identity, the required scope \nlogin\n does not persist changes on the user account, so be sure to remember the user session to avoid the authorization dialog in every visit.\n\n\n\n\nTo configure the scopes your application will require, just call the \nsetScopes\n method on the config object, passing those scopes as an array:\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n<?php\n\n\n\n// ...\n\n\n\n// set the required scopes on the configuration.\n\n\n$config\n->\nsetScopes\n([\n\n    \n'login'\n,\n\n    \n'vote'\n,\n\n    \n'comment'\n\n\n]);\n\n\n\n\n\n\n\nApplication and Community Name.\n\u00b6\n\n\nAn optional but interesting feature, is to configure both the application and community names. Those are used to indicate\nwhat application was used to make the post, and some frontend will display that information.\n\n\nIf you don't know what I'm talking about, here is an example:\n\n\n\n\nThe syntax for application name, as of right now, is \nlowercase-app-name/version\n, here's an example:\n\n\n1\n2\n3\n4\n5\n6\n<?php\n\n\n\n// ...\n\n\n\n// set the application name and version.\n\n\n$config\n->\nsetApp\n(\n'coolapp/2.4'\n);\n\n\n\n\n\n\n\nThe same way, it's possible to set the community name:\n\n\n1\n2\n3\n4\n5\n6\n<?php\n\n\n\n// ...\n\n\n\n// set the community name.\n\n\n$config\n->\nsetCommunity\n(\n'CoolApp'\n);\n\n\n\n\n\n\n\nCustom SteemConnect Servers.\n\u00b6\n\n\nIf for some reason, you are using a custom install of SteemConnect (a development install, for example), you may\nchange the base URL so all calls will use that domain.\n\n\n1\n2\n3\n4\n5\n6\n<?php\n\n\n\n// ...\n\n\n\n// customize the SteemConnect address.\n\n\n$config\n->\nsetBaseUrl\n(\n'https://my-custom-steemconnect.com'\n);",
            "title": "Configuration"
        },
        {
            "location": "/01-configuration/#configuration",
            "text": "Before heading into SDK usage, we need to configure it, with credentials, return url and scopes.",
            "title": "Configuration"
        },
        {
            "location": "/01-configuration/#configuration-class",
            "text": "To start, we are going to create an instance of  SteemConnect\\Config\\Config .   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10 <?php  use   SteemConnect\\Config\\Config ;  // the client id and secret can be obtained on SteemConnect dashboard.  $clientId   =   'your-steem-connect-client-id' ;  $clientSecret   =   'your-steem-connect-client-secret' ;  // create the configuration instance, using  the credentials.  $config   =   new   Config ( $clientId ,   $clientSecret );",
            "title": "Configuration Class."
        },
        {
            "location": "/01-configuration/#return-url",
            "text": "The return URL is a parameter for the OAuth authorization flow. This URL will receive\nthe temporary code from SteemConnect after the user authorizes your application\nto act on the their behalf.  To configure the return URL, you just call the  setReturnUrl  method on the Config object:  1\n2\n3\n4\n5\n6 <?php  // ...  // set the return URL on config.  $config -> setReturnUrl ( 'https://your-steem-app/auth/callback' );     Note  The URL being used on configuration must match the one configured on SteemConnect dashboard, otherwise the authorization flow will fail.",
            "title": "Return URL."
        },
        {
            "location": "/01-configuration/#scopes",
            "text": "Other required configuration are which scopes your application requires.  On the OAuth flow, a scope could be translated to which permissions your users will grant you.  There are several scopes available. The list of scopes presented here may change with time, so, an up-to-date reference can fe found at  SteemConnect wiki .     Scope  Description      login  Verify Steem identity    offline  Allow long-lived token    vote  Upvote, downvote or unvote a post or comment    comment  Publish or edit a post or a comment    comment_delete  Delete a post or a comment    comment_options  Add options for a post or comment    custom_json  Follow, unfollow, ignore, reblog or any custom_json operation    claim_reward_balance  Claim reward for user      Note  If your application only needs to verify the user identity, the required scope  login  does not persist changes on the user account, so be sure to remember the user session to avoid the authorization dialog in every visit.   To configure the scopes your application will require, just call the  setScopes  method on the config object, passing those scopes as an array:   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10 <?php  // ...  // set the required scopes on the configuration.  $config -> setScopes ([ \n     'login' , \n     'vote' , \n     'comment'  ]);",
            "title": "Scopes."
        },
        {
            "location": "/01-configuration/#application-and-community-name",
            "text": "An optional but interesting feature, is to configure both the application and community names. Those are used to indicate\nwhat application was used to make the post, and some frontend will display that information.  If you don't know what I'm talking about, here is an example:   The syntax for application name, as of right now, is  lowercase-app-name/version , here's an example:  1\n2\n3\n4\n5\n6 <?php  // ...  // set the application name and version.  $config -> setApp ( 'coolapp/2.4' );    The same way, it's possible to set the community name:  1\n2\n3\n4\n5\n6 <?php  // ...  // set the community name.  $config -> setCommunity ( 'CoolApp' );",
            "title": "Application and Community Name."
        },
        {
            "location": "/01-configuration/#custom-steemconnect-servers",
            "text": "If for some reason, you are using a custom install of SteemConnect (a development install, for example), you may\nchange the base URL so all calls will use that domain.  1\n2\n3\n4\n5\n6 <?php  // ...  // customize the SteemConnect address.  $config -> setBaseUrl ( 'https://my-custom-steemconnect.com' );",
            "title": "Custom SteemConnect Servers."
        },
        {
            "location": "/02-authentication/",
            "text": "Authentication\n\u00b6\n\n\nThis library wraps all authentication functionality built on \noauth2-sc2\n, if you are using the SDK, there's no need for separate authentication configuration, since all logic is wrapped on the SDK.\n\n\nBefore Authentication.\n\u00b6\n\n\nBefore we head into the actual authentication, we must have a SDK client instance.\n\n\nThe class that handle all SDK features is \nSteemConnect\\Client\\Client\n and for the examples on this section, we will create one instance and name the variable \n$sdk\n:\n\n\nAlso, we are assuming, you have the \n$config\n variable from the configuration section available.\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n<?php\n\n\n\n// ...\n\n\n\n// alias the client.\n\n\nuse\n \nSteemConnect\\Client\\Client\n;\n\n\n\n// create a sdk client instance, using the\n\n\n// config instance we previously created.\n\n\n$sdk\n \n=\n \nnew\n \nClient\n(\n$config\n);\n\n\n\n\n\n\n\nThe OAuth Flow.\n\u00b6\n\n\nThose those who are not so familiar with OAuth, the basic flow is this:\n\n\n\n\nApplication redirects the user the the OAuth Provider, in this case, SteemConnect.\n\n\nThe user, grants, on the SteemConnect page, the permissions so your application can act on the user behalf.\n\n\nAfter the authorization, the provider, in this case SteemConnect, will redirect the user back to your application, with a temporary code that will be exchanged with an access token.\n\n\n\n\nAll of those steps are wrapped by the SDK.\n\n\nThis means, that you only need to do two SDK calls in order to authenticate and get authorization from users.\n\n\nRedirecting To SteemConnect.\n\u00b6\n\n\nWhen the users access your application, you will need to do a redirect to SteemConnect.\n\n\nNow, using the SDK we can build the URL used to redirect the users to:\n\n\n1\n2\n3\n4\n5\n6\n<?php\n\n\n\n// ...\n\n\n\n// get the authorization URL.\n\n\n$authorizationURL\n \n=\n \n$sdk\n->\nauth\n()\n->\ngetAuthorizationUrl\n();\n\n\n\n\n\n\n\nNow, you can actually redirect the user to that URL. Be free to use any method you want.\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n<?php\n\n\n\n// ...\n\n\n\n\n// using pure PHP:\n\n\nheader\n(\n\"Location: \n{\n$authorizationURL\n}\n\"\n);\n\n\n\n\n// using Laravel inside a controller:\n\n\nreturn\n \nredirect\n(\n$authorizationURL\n);\n\n\n\n\n\n\n\nBy doing that for the first time, your users will be faced with the following authorization page:\n\n\n\n\n\n\nNote\n\n\nNotice on this example, the application requesting permission is \nBusy.org\n. Both the logo and application name will change on your own applications, and can be customized through SteemConnect dashboard.\n\n\n\n\n\n\nNote\n\n\nAlso, the scopes required may change by your own requirements, be sure to read all and request only the ones you actually need. Avoid having more powers over your users accounts than you actually need.\n\n\n\n\nHandling the Return.\n\u00b6\n\n\nIn some places referred to as \ncallback\n, the return from an authorization flow is just the practice of exchanging the temporary grant code\nwith a real access token, that is required to operate your users accounts after the authorization.\n\n\nThe SDK also abstracts all that parsing, so you only need to do one call at callback phase.\n\n\n1\n2\n3\n4\n5\n6\n7\n<?php\n\n\n\n// ...\n\n\n\n\n// exchanging the authorization code by a access token.\n\n\n$token\n \n=\n \n$sdk\n->\nauth\n()\n->\nparseReturn\n();\n\n\n\n\n\n\n\nThe token returned on the callback / return page is an instance of \nSteemConnect\\Auth\\Token\n, which we will discuss on the next section.\n\n\nStoring and Using Access Tokens.\n\u00b6\n\n\nEach access token is specific to a given user. Meaning when you need to the access token every time you need to broadcast an operation\nto the Steem blockchain.\n\n\nSince the tokens as an instance of \nSteemConnect\\Auth\\Token\n, it's easy to serialize and factory it's instance:\n\n\nSerialization for Storage:\n\u00b6\n\n\nWhen you have a \nToken\n instance, and you need to store it, you can transform the token into a JSON string by doing:\n\n\n1\n2\n3\n4\n5\n6\n<?php\n\n\n\n// ...\n\n\n\n// create a json representation of the token for storage.\n\n\n$tokenJson\n \n=\n \njson_encode\n(\n$token\n);\n\n\n\n\n\n\n\nParsing Stored Tokens.\n\u00b6\n\n\nNow, on a late time, when a given user returns to your application, you can just factory the token instance back:\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n<?php\n\n\n\n// ...\n\n\n\nuse\n \nSteemConnect\\Auth\\Token\n;\n\n\n\n// the fromJsonString method will decode \n\n\n// the token json string into a token instance.\n\n\n$token\n \n=\n \nToken\n::\nfromJsonString\n(\n$tokenJson\n);\n\n\n\n\n\n\n\nUsing Tokens.\n\u00b6\n\n\nSince all operations needs to be authenticated, the SDK requires a \nToken\n instance to work.\n\n\nTo configure the access token on the SDK, all you need to do is:\n\n\n1\n2\n3\n4\n5\n6\n7\n<?php\n\n\n\n// ...\n\n\n\n// set the token instance on the SDK, \n\n\n// so operations can be authenticated.\n\n\n$sdk\n->\nsetToken\n(\n$token\n);",
            "title": "Authentication"
        },
        {
            "location": "/02-authentication/#authentication",
            "text": "This library wraps all authentication functionality built on  oauth2-sc2 , if you are using the SDK, there's no need for separate authentication configuration, since all logic is wrapped on the SDK.",
            "title": "Authentication"
        },
        {
            "location": "/02-authentication/#before-authentication",
            "text": "Before we head into the actual authentication, we must have a SDK client instance.  The class that handle all SDK features is  SteemConnect\\Client\\Client  and for the examples on this section, we will create one instance and name the variable  $sdk :  Also, we are assuming, you have the  $config  variable from the configuration section available.   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10 <?php  // ...  // alias the client.  use   SteemConnect\\Client\\Client ;  // create a sdk client instance, using the  // config instance we previously created.  $sdk   =   new   Client ( $config );",
            "title": "Before Authentication."
        },
        {
            "location": "/02-authentication/#the-oauth-flow",
            "text": "Those those who are not so familiar with OAuth, the basic flow is this:   Application redirects the user the the OAuth Provider, in this case, SteemConnect.  The user, grants, on the SteemConnect page, the permissions so your application can act on the user behalf.  After the authorization, the provider, in this case SteemConnect, will redirect the user back to your application, with a temporary code that will be exchanged with an access token.   All of those steps are wrapped by the SDK.  This means, that you only need to do two SDK calls in order to authenticate and get authorization from users.",
            "title": "The OAuth Flow."
        },
        {
            "location": "/02-authentication/#redirecting-to-steemconnect",
            "text": "When the users access your application, you will need to do a redirect to SteemConnect.  Now, using the SDK we can build the URL used to redirect the users to:  1\n2\n3\n4\n5\n6 <?php  // ...  // get the authorization URL.  $authorizationURL   =   $sdk -> auth () -> getAuthorizationUrl ();    Now, you can actually redirect the user to that URL. Be free to use any method you want.   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11 <?php  // ...  // using pure PHP:  header ( \"Location:  { $authorizationURL } \" );  // using Laravel inside a controller:  return   redirect ( $authorizationURL );    By doing that for the first time, your users will be faced with the following authorization page:    Note  Notice on this example, the application requesting permission is  Busy.org . Both the logo and application name will change on your own applications, and can be customized through SteemConnect dashboard.    Note  Also, the scopes required may change by your own requirements, be sure to read all and request only the ones you actually need. Avoid having more powers over your users accounts than you actually need.",
            "title": "Redirecting To SteemConnect."
        },
        {
            "location": "/02-authentication/#handling-the-return",
            "text": "In some places referred to as  callback , the return from an authorization flow is just the practice of exchanging the temporary grant code\nwith a real access token, that is required to operate your users accounts after the authorization.  The SDK also abstracts all that parsing, so you only need to do one call at callback phase.  1\n2\n3\n4\n5\n6\n7 <?php  // ...  // exchanging the authorization code by a access token.  $token   =   $sdk -> auth () -> parseReturn ();    The token returned on the callback / return page is an instance of  SteemConnect\\Auth\\Token , which we will discuss on the next section.",
            "title": "Handling the Return."
        },
        {
            "location": "/02-authentication/#storing-and-using-access-tokens",
            "text": "Each access token is specific to a given user. Meaning when you need to the access token every time you need to broadcast an operation\nto the Steem blockchain.  Since the tokens as an instance of  SteemConnect\\Auth\\Token , it's easy to serialize and factory it's instance:",
            "title": "Storing and Using Access Tokens."
        },
        {
            "location": "/02-authentication/#serialization-for-storage",
            "text": "When you have a  Token  instance, and you need to store it, you can transform the token into a JSON string by doing:  1\n2\n3\n4\n5\n6 <?php  // ...  // create a json representation of the token for storage.  $tokenJson   =   json_encode ( $token );",
            "title": "Serialization for Storage:"
        },
        {
            "location": "/02-authentication/#parsing-stored-tokens",
            "text": "Now, on a late time, when a given user returns to your application, you can just factory the token instance back:  1\n2\n3\n4\n5\n6\n7\n8\n9 <?php  // ...  use   SteemConnect\\Auth\\Token ;  // the fromJsonString method will decode   // the token json string into a token instance.  $token   =   Token :: fromJsonString ( $tokenJson );",
            "title": "Parsing Stored Tokens."
        },
        {
            "location": "/02-authentication/#using-tokens",
            "text": "Since all operations needs to be authenticated, the SDK requires a  Token  instance to work.  To configure the access token on the SDK, all you need to do is:  1\n2\n3\n4\n5\n6\n7 <?php  // ...  // set the token instance on the SDK,   // so operations can be authenticated.  $sdk -> setToken ( $token );",
            "title": "Using Tokens."
        },
        {
            "location": "/03-operations/",
            "text": "Broadcasting Operations\n\u00b6\n\n\nConsidering the users are",
            "title": "Operations"
        },
        {
            "location": "/03-operations/#broadcasting-operations",
            "text": "Considering the users are",
            "title": "Broadcasting Operations"
        }
    ]
}